<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Date Time Change</title>
</head>
<body>
  <h1>Date Time Change</h1>
  <p>Select Date and Time:</p>
  <input type="text" id="year-input" placeholder="Year">
  <select id="year-select" size="10" style="display:none;"></select>
  -
  <select id="month-select"></select>
  -
  <select id="day-select"></select>
  <br>
  <select id="hour-select"></select>
  :
  <select id="minute-select"></select>
  :
  <select id="second-select"></select>
  <br><br>
  <p>Select what you want to change:</p>
  <select id="change-option">
    <option value="second">Second</option>
    <option value="minute">Minute</option>
    <option value="hour">Hour</option>
    <option value="day">Day</option>
    <option value="month">Month</option>
    <option value="year">Year</option>
  </select>
  <br><br>
  <p>Enter the change value (positive or negative):</p>
  <input type="number" id="change-value" value="0">
  <br><br>
  <button onclick="changeDateTime()">Change Date Time</button>
  <br><br>
  <p id="result"></p>

  <script>
    const years = [];
    for (let year = 1500; year <= 9999; year++) {
      years.push(year.toString());
    }

    function populateDropdowns() {
      const monthSelect = document.getElementById("month-select");
      const daySelect = document.getElementById("day-select");
      const hourSelect = document.getElementById("hour-select");
      const minuteSelect = document.getElementById("minute-select");
      const secondSelect = document.getElementById("second-select");

      // Populate month dropdown
      const monthFragment = document.createDocumentFragment();
      const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
      for (let month = 0; month < 12; month++) {
        const option = document.createElement("option");
        option.value = month;
        option.text = monthNames[month];
        monthFragment.appendChild(option);
      }
      monthSelect.appendChild(monthFragment);

      // Populate day dropdown (needs to be adjusted based on selected month and year)
      populateDaySelect();

      // Populate hour dropdown (0-23)
      const hourFragment = document.createDocumentFragment();
      for (let hour = 0; hour < 24; hour++) {
        const option = document.createElement("option");
        option.value = hour;
        option.text = hour.toString().padStart(2, '0'); // Add leading zero
        hourFragment.appendChild(option);
      }
      hourSelect.appendChild(hourFragment);

      // Populate minute and second dropdowns (0-59)
      const minuteFragment = document.createDocumentFragment();
      const secondFragment = document.createDocumentFragment();
      for (let i = 0; i < 60; i++) {
        const option = document.createElement("option");
        option.value = i;
        option.text = i.toString().padStart(2, '0'); // Add leading zero
        minuteFragment.appendChild(option);
        secondFragment.appendChild(option.cloneNode(true));
      }
      minuteSelect.appendChild(minuteFragment);
      secondSelect.appendChild(secondFragment);
    }

    function populateDaySelect() {
      const daySelect = document.getElementById("day-select");
      daySelect.innerHTML = ""; // Clear existing options

      const year = parseInt(document.getElementById("year-input").value);
      const month = parseInt(document.getElementById("month-select").value);
      const daysInMonth = new Date(year, month + 1, 0).getDate(); // Get days in selected month

      // Populate day dropdown with valid days for the selected month
      const dayFragment = document.createDocumentFragment();
      for (let day = 1; day <= daysInMonth; day++) {
        const option = document.createElement("option");
        option.value = day;
        option.text = day.toString().padStart(2, '0'); // Add leading zero
        dayFragment.appendChild(option);
      }
      daySelect.appendChild(dayFragment);
    }

    document.getElementById("year-input").addEventListener("input", function() {
      const input = this.value;
      const yearSelect = document.getElementById("year-select");
      yearSelect.innerHTML = ""; // Clear existing options

      if (input) {
        const filteredYears = years.filter(year => year.startsWith(input));
        const yearFragment = document.createDocumentFragment();
        filteredYears.forEach(year => {
          const option = document.createElement("option");
          option.value = year;
          option.text = year;
          yearFragment.appendChild(option);
        });
        yearSelect.appendChild(yearFragment);
        yearSelect.style.display = "block";
      } else {
        yearSelect.style.display = "none";
      }
    });

    document.getElementById("year-select").addEventListener("change", function() {
      const yearInput = document.getElementById("year-input");
      yearInput.value = this.value;
      this.style.display = "none";
      populateDaySelect();
    });

    document.getElementById("month-select").addEventListener("change", populateDaySelect);

    function changeDateTime() {
      const year = parseInt(document.getElementById("year-input").value);
      const month = parseInt(document.getElementById("month-select").value);
      const day = parseInt(document.getElementById("day-select").value);
      const hour = parseInt(document.getElementById("hour-select").value);
      const minute = parseInt(document.getElementById("minute-select").value);
      const second = parseInt(document.getElementById("second-select").value);

      let date = new Date(year, month, day, hour, minute, second);

      const changeOption = document.getElementById("change-option").value;
      const changeValue = parseInt(document.getElementById("change-value").value);

      switch (changeOption) {
        case "second":
          date.setSeconds(date.getSeconds() + changeValue);
          break;
        case "minute":
          date.setMinutes(date.getMinutes() + changeValue);
          break;
        case "hour":
          date.setHours(date.getHours() + changeValue);
          break;
        case "day":
          date.setDate(date.getDate() + changeValue);
          break;
        case "month":
          date.setMonth(date.getMonth() + changeValue);
          break;
        case "year":
          date.setFullYear(date.getFullYear() + changeValue);
          break;
      }

      document.getElementById("result").innerText = `New Date and Time: ${date.toString()}`;

      // Update dropdowns to reflect the new date and time
      document.getElementById("year-input").value = date.getFullYear();
      document.getElementById("month-select").value = date.getMonth();
      populateDaySelect();
      document.getElementById("day-select").value = date.getDate();
      document.getElementById("hour-select").value = date.getHours();
      document.getElementById("minute-select").value = date.getMinutes();
      document.getElementById("second-select").value = date.getSeconds();
    }

    window.onload = populateDropdowns;
  </script>
</body>
</html>
